<!--/*@thymesVar id="user" type="me.femrek.viewcounter.dto.GithubUserDTO"*/-->
<div th:fragment="header">
    <div class="bg-primary py-3 shadow-sm">
        <div class="container d-flex justify-content-between align-items-center">
            <!-- App Title -->
            <a class="text-white fw-bold fs-3 text-decoration-none" href="/" style="letter-spacing: 1px;">
                Request Tracker
            </a>

            <!-- Auth Section -->
            <div class="d-flex align-items-center gap-3">
                <!-- Logged Out -->
                <a th:if="${user == null}" class="btn btn-light btn-rounded fw-semibold px-4"
                   href="/oauth2/authorization/GitHub">
                    Login with GitHub
                </a>

                <!-- Logged In -->
                <a th:if="${user != null}"
                   class="d-flex align-items-center text-white text-decoration-none"
                   th:href="${user.getProfileUrl()}"
                   th:title="${user.getFullName()}">
                    <span class="me-2 fw-semibold d-none d-sm-inline" th:text="${user.getUsername()}">Username</span>
                    <img th:src="${user.getAvatarUrl()}"
                         th:alt="${user.getUsername()}"
                         class="rounded-circle border border-white"
                         width="48" height="48"/>
                </a>
            </div>
        </div>
    </div>
</div>
